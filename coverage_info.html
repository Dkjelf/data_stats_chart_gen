<html>
  <head>
     <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
     <script type="text/javascript">
	
	 //Code by Dan Jelf
	 //06/16/2016

	 var actual_JSON;
	 var index = 0;

	 retrieveJSON();

	 function retrieveJSON(){

	 	loadJSON(function(response) {
			// Parse JSON string into object
			actual_JSON = JSON.parse(response.replace(/\bNaN\b/g, "null"));
			getData();
		})
	 }

	 //loads the JSON file
	 function loadJSON(callback) 
	 {   
		var xobj = new XMLHttpRequest();
		xobj.overrideMimeType("application/json");
		xobj.open('GET', 'http://rawgit.com/AidData-WM/build-stats/master/build_stats.json', true);
		xobj.onreadystatechange = function () 
		{
			if (xobj.readyState == 4 && xobj.status == "200") 
			{
				// Required use of an anonymous callback as .open will NOT return a value but simply returns undefined in asynchronous mode
				callback(xobj.responseText);
			}
		};
		xobj.send(null);  
     }

     function getData(){
     		var start = actual_JSON.GeocodedResearchReleases.Level1[index].start_year;
     		var end = actual_JSON.GeocodedResearchReleases.Level1[index].end_year;
     		var donors = actual_JSON.GeocodedResearchReleases.Level1[index].donors;
     		var proj = actual_JSON.GeocodedResearchReleases.Level1[index].total_projects;
     		var geo_proj = actual_JSON.GeocodedResearchReleases.Level1[index].geocoded_projects;
     		var locations = actual_JSON.GeocodedResearchReleases.Level1[index].locations;
     		var total_disbursements = actual_JSON.GeocodedResearchReleases.Level1[index].total_disbursements;
     		var total_commitments = actual_JSON.GeocodedResearchReleases.Level1[index].total_commitments;
     		var geocoded_disbursements = actual_JSON.GeocodedResearchReleases.Level1[index].geocoded_disbursements;
     		var geocoded_commitments = actual_JSON.GeocodedResearchReleases.Level1[index].geocoded_commitments;

     		document.getElementById("p1").innerHTML = ("<b>Geocoded Data Coverage </b> <br></br> Years: " + start + " - " + end +"<br></br>Donors: " +donors +"<br></br>Total Projects: " + proj + "<br></br>Geocoded Projects: " + geo_proj +"<br></br>Locations: " + locations + "<br></br>Total Disbursements " + total_disbursements +"<br></br>Total Commitments: " + total_commitments + "<br></br>Geocoded Disbursements: " + geocoded_disbursements + "<br></br>Geocoded Commitments: " + geocoded_commitments);
     }


	
	 
    </script>
  </head>
  <body>
  <p id="p1">Hello World!</p>
  </body>
</html>